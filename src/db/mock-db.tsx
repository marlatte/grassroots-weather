import Fuse from 'fuse.js';

const citiesDB = [
  'Shanghai',
  'Beijing',
  'Karachi',
  'Istanbul',
  'Dhaka',
  'Tokyo',
  'Moscow',
  'Manila',
  'Tianjin',
  'Mumbai',
  'Sao Paulo',
  'Shenzhen',
  'Guangzhou',
  'Delhi',
  'Wuhan',
  'Lahore',
  'Seoul',
  'Chengdu',
  'Kinshasa',
  'Lima',
  'Jakarta',
  'Cairo',
  'Mexico City',
  'Tehran',
  'Baghdad',
  'Xian',
  'London',
  'New York',
  'Nanjing',
  'Bangalore',
  'Ho Chi Minh City',
  'Bangkok',
  'Chongquin',
  'Bogota',
  'Lagos',
  'Riyadh',
  'Hong Kong',
  'Chennai',
  'Hangzhou',
  'Hyderabad',
  'Rio de Janeiro',
  'Zhengzhou',
  'Shenyang',
  'Qingdao',
  'Santiago',
  'Dalian',
  'Singapore',
  'Ahmadabad',
  'Suzhou',
  'St Petersburg',
  'Harbin',
  'Ankara',
  'Khartoum',
  'Yangon',
  'Casablanca',
  'Sydney',
  'Jinan',
  'Melbourne',
  'Changsha',
  'Kolkata',
  'Fuzhou',
  'Surat',
  'Abidjan',
  'Dar Es Salaam',
  'Shiziahuang',
  'Jeddah',
  'Faisalabad',
  'Nanning',
  'Alexandria',
  'Amman',
  'Los Angeles',
  'Kunming',
  'Changchun',
  'Yokohama',
  'Kabul',
  'Berlin',
  'Giza',
  'Urumqi',
  'Wuxi',
  'Busan',
  'Guayaquil',
  'Hanoi',
  'Hyderabad',
  'Addis Ababa',
  'Algiers',
  'Kano',
  'Mashhad',
  'Hefei',
  'Changzhou',
  'Taiyuan',
  'Rawalpindi',
  'Tangshan',
  'Madrid',
  'Nairobi',
  'Zibo',
  'Pune',
  'Ibadan',
  'Jaipur',
  'Guiyang',
  'Incheon',
  'Brasilia',
  'Tshwane',
  'Kanpur',
  'Salvador',
  'Buenos Aires',
  'Kiev',
  'Rome',
  'Surabaya',
  'Izmir',
  'Lucknow',
  'Basrah',
  'Toronto',
  'Gujranwala',
  'Chicago',
  'Taipei',
  'Quito',
  'Osaka',
  'Xuzhou',
  'Fortaleza',
  'Chittagong',
  'Pyongyang',
  'Bandung',
  'Kaohsiung',
  'Yaounde',
  'Daegu',
  'Taichung',
  'Belo Horizonte',
  'Puebla',
  'Douala',
  'Medellin',
  'Nagpur',
  'Cali',
  'Omdurman',
  'Nanchang',
  'Brisbane',
  'Bursa',
  'Tashkent',
  'Houston',
  'Nagoya',
  'Mogadishu',
  'Isfahen',
  'Paris',
  'Accra',
  'Managua',
  'Kowloon',
  'Lanzhou',
  'Baku',
  'Guatamala City',
  'Luanda',
  'Bucharest',
  'Boston',
  'Washington D.C.',
  'Atlanta',
];

export function searchCities(query: string) {
  const fuse = new Fuse(citiesDB, { threshold: 0.4 });
  const results = fuse.search(query);

  return results.map(({ item }) => item).slice(0, 10);
}
